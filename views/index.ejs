<!DOCTYPE html>
<html lang="en">
<%- include('partials/header') %> <!-- Include the header -->
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Assignments Tracker</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
  <div class="container">
    <!-- Introduction section with border -->
    <div class="intro-box">
      <h2>Welcome to the Assignments Tracker</h2>
      <p>This tracker allows you to manage and keep track of your assignments. You can easily add, edit, and delete assignments, as well as monitor their due dates, statuses, and priority levels. Stay organized and never miss a deadline!</p>
    </div>

    <!-- Add Assignment Button -->
    <a class="add-assignment" href="/assignments/add">Add New Assignment</a>

    <!-- Displaying the list of assignments -->
    <ul>
    <div class ="assignment-listing">
        <h4>List of assignments</h4>
        </div>
      <% assignments.forEach(function(assignment) { %>
        <li>
          <div class="assignment-info">
            <h3><%= assignment.title %></h3>
            <p><strong>Subject:</strong> <%= assignment.subject %></p>
            <p><strong>Due Date:</strong> <%= assignment.dueDate %></p>
            <p><strong>Status:</strong> <%= assignment.status %></p>
            <p><strong>Priority:</strong> <%= assignment.priority %></p>
          </div>

          <!-- Action buttons Edit and Delete -->
          <div class="btn-group">
            <a href="/assignments/edit/<%= assignment._id %>" class="edit-btn">Edit</a>
            <form action="/assignments/delete/<%= assignment._id %>?_method=DELETE" method="POST" style="display:inline;" onsubmit="return confirmDelete();">
                <button type="submit">Delete</button>
            </form>
          </div>
        </li>
      <% }) %>
    </ul>

    <script>
      function confirmDelete() {
        return confirm("Are you sure you want to delete this assignment?");
      }
    </script>
  </div>
<%- include('partials/footer') %> <!-- Include the footer -->
</body>
</html>
